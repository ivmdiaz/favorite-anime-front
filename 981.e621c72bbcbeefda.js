"use strict";(self.webpackChunkfavorite_anime_front=self.webpackChunkfavorite_anime_front||[]).push([[981],{8981:(V,v,i)=>{i.r(v),i.d(v,{OnePieceModule:()=>W});var e=i(5e3),y=i(2916),_=i(2340),h=i(520);let F=(()=>{class a{constructor(t){this.backendHttp=t}getServiceCharacters(){return this.backendHttp.get(`${_.N.api.subpaths.onepiece}/character`)}getServiceCharacterDetail(t){return this.backendHttp.get(`${_.N.api.subpaths.onepiece}/character/${t}`)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),I=(()=>{class a extends F{constructor(t){super(t),this.sessionHttp=t}getSessionDataHistory(t){return new y.y(r=>{this.getSessionData(t.historyKey).subscribe(c=>{c||(c={key:t.historyKey,values:[]});let p=c.values.find(u=>u.key===t.valueKey);p?(r.next(p.value),r.complete()):t.valueService.subscribe(u=>{const g=u.data;u.success&&g?(c.values.length>=t.historyLimit&&c.values.shift(),c.values.push({key:t.valueKey,value:g}),this.setSessionData(t.historyKey,c),r.next(g)):r.next(void 0),r.complete()})})})}getSessionData(t,r){return new y.y(c=>{const p=sessionStorage.getItem(t);p?(c.next(JSON.parse(p)),c.complete()):r?r.subscribe(u=>{const g=u.data;u.success&&g?(this.setSessionData(t,g),c.next(g)):c.next(void 0),c.complete()}):(c.next(void 0),c.complete())})}setSessionData(t,r){r?sessionStorage.setItem(t,JSON.stringify(r)):sessionStorage.removeItem(t)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();class m{constructor(n,t,r,c){this.id=n,this.code=t,this.name=r,this.folder=c}static values(){return Object.values(this)}static findByCode(n){return this.values().find(t=>t.code===n)}}m.GEIC001=new m(1,"OPIC001","location-gallery","assets/img/one-piece/location"),m.GEIC002=new m(2,"OPIC002","character-list","assets/img/one-piece/character-list"),m.GEIC003=new m(2,"OPIC003","character-list","assets/img/one-piece/character-detail/luffy");let d=(()=>{class a extends I{constructor(t){super(t),this.utilHttp=t}getImageSource(t){return`${m.findByCode(t.category.code).folder}/${t.filename}`}getParagraphs(t){return t.split(/\\n/g)}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})(),Z=(()=>{class a extends d{constructor(t){super(t),this.http=t}getCharacters(){return this.getSessionData("characters",this.getServiceCharacters())}setCharacterSelected(t){this.setSessionData("character-selected",t)}getCharacterSelected(){return this.getSessionData("character-selected")}getCharacterDetail(t){return this.getSessionDataHistory({historyKey:"character-detail-history",historyLimit:5,valueKey:`character-detail-${t}`,valueService:this.getServiceCharacterDetail(t)})}}return a.\u0275fac=function(t){return new(t||a)(e.LFG(h.eN))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var f=i(5834),o=i(9808),C=i(3322),l=i(7093),s=i(9224),O=i(7423);function L(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",2)(1,"mat-card",3),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw().navigate(p)}),e.TgZ(2,"mat-card-header",4)(3,"mat-card-title"),e._uU(4),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.qZA()(),e._UZ(7,"img",5),e.TgZ(8,"mat-card-actions")(9,"button",6),e._uU(10,"EXPLORE"),e.qZA()()()()}if(2&a){const t=n.$implicit,r=e.oxw();e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.alias),e.xp6(1),e.s9C("src",r.service.getImageSource(t.image),e.LSH),e.s9C("alt",t.image.name)}}let A=(()=>{class a{constructor(t){this.service=t,this.navigateItemEvent=new e.vpe}navigate(t){this.navigateItemEvent.emit(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-character-list-base"]],inputs:{datasource:"datasource"},outputs:{navigateItemEvent:"navigateItemEvent"},decls:2,vars:1,consts:[["fxLayout","row wrap"],["fxFlex","20%","fxFlex.sm","50%","fxFlex.xs","100%",4,"ngFor","ngForOf"],["fxFlex","20%","fxFlex.sm","50%","fxFlex.xs","100%"],[1,"app-card",3,"click"],[1,"list-character-card-header"],["mat-card-image","",3,"src","alt"],["mat-button",""]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.YNc(1,L,11,4,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",r.datasource))},directives:[l.xw,o.sg,l.yH,s.a8,s.dk,s.n5,s.$j,s.G2,s.hq,O.lW],styles:[".list-character-card-header[_ngcontent-%COMP%]{min-height:6em}"]}),a})(),w=(()=>{class a{constructor(t,r){this.service=t,this.router=r,t.getCharacters().subscribe(c=>this.datasource=c)}ngOnInit(){this.service.setCharacterSelected(void 0)}navigate(t){this.service.setCharacterSelected(t),this.router.navigate(["one-piece/character"])}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Z),e.Y36(f.F0))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-character-list"]],decls:2,vars:1,consts:[["ngClass","app-container","ngClass.lt-md","app-container-lt-md"],[3,"datasource","navigateItemEvent"]],template:function(t,r){1&t&&(e.TgZ(0,"main",0)(1,"app-character-list-base",1),e.NdJ("navigateItemEvent",function(p){return r.navigate(p)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("datasource",r.datasource))},directives:[o.mk,C.oO,A],styles:[""]}),a})();var T=i(4967);function b(a,n){if(1&a&&(e.TgZ(0,"mat-chip",13),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.Oqu(t.name)}}let P=(()=>{class a{constructor(t){this.service=t}ngOnInit(){}get character(){return this.datasource.character}get location(){return this.datasource.location}get tags(){return this.datasource.tags}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-character-presentation"]],inputs:{datasource:"datasource"},decls:25,vars:9,consts:[["fxLayout","row","fxLayout.lt-md","column","fxLayoutGap.lt-md","1em"],["fxFlex","40%","fxLayout","column"],["fxLayoutAlign","center center"],["alt","image not found",1,"image-avatar",3,"src"],["fxFlex","40%","fxLayout","column","fxLayoutAlign","center stretch","fxLayoutGap","1em"],["fxLayout","row","fxLayoutGap","1em","fxLayoutAlign","center center"],["fxFlex","33%","fxFlex.sm","20%","fxLayout","column","fxLayoutAlign","center center"],["src","assets/img/one-piece/character-presentation/birthday.png",1,"image-presentation"],["src","assets/img/one-piece/character-presentation/place.png",1,"image-presentation"],["src","assets/img/one-piece/character-presentation/alias.png",1,"image-presentation"],["fxLayout","row","fxLayoutAlign","center center"],["fxFlex.sm","80%"],["class","chip-presentation",4,"ngFor","ngForOf"],[1,"chip-presentation"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4),e.qZA()(),e.TgZ(5,"div",2),e._UZ(6,"img",3),e.qZA()(),e.TgZ(7,"div",4)(8,"div",5)(9,"div",6),e._UZ(10,"img",7),e.TgZ(11,"h3"),e._uU(12),e.ALo(13,"date"),e.qZA()(),e.TgZ(14,"div",6),e._UZ(15,"img",8),e.TgZ(16,"h3"),e._uU(17),e.qZA()(),e.TgZ(18,"div",6),e._UZ(19,"img",9),e.TgZ(20,"h3"),e._uU(21),e.qZA()()(),e.TgZ(22,"div",10)(23,"mat-chip-list",11),e.YNc(24,b,2,1,"mat-chip",12),e.qZA()()()()),2&t&&(e.xp6(4),e.Oqu(r.character.name),e.xp6(2),e.s9C("src",r.service.getImageSource(r.character.image),e.LSH),e.xp6(6),e.Oqu(e.xi3(13,6,r.character.birthday,"MMMM d")),e.xp6(5),e.Oqu(r.location.name),e.xp6(4),e.Oqu(r.character.alias),e.xp6(3),e.Q6J("ngForOf",r.tags))},directives:[l.xw,l.SQ,l.yH,l.Wh,T.qn,o.sg,T.HS],pipes:[o.uU],styles:[".image-avatar[_ngcontent-%COMP%]{width:200px;height:200px;background-size:cover;background-position:top center;border-radius:50%}.image-presentation[_ngcontent-%COMP%]{max-width:80px}  .mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px;justify-content:center}"]}),a})();var S=i(1252);function M(a,n){if(1&a&&(e.TgZ(0,"div",3)(1,"mat-card",4)(2,"mat-card-header")(3,"mat-card-title"),e._uU(4),e.qZA(),e.TgZ(5,"mat-card-subtitle"),e._uU(6),e.qZA()(),e._UZ(7,"img",5),e.qZA()()),2&a){const t=n.$implicit,r=e.oxw(2);e.xp6(4),e.Oqu(t.character.name),e.xp6(2),e.Oqu(t.relationship.name),e.xp6(1),e.s9C("src",r.service.getImageSource(t.character.image),e.LSH),e.s9C("alt",t.character.image.name)}}function U(a,n){if(1&a&&(e.TgZ(0,"div")(1,"div",1),e.YNc(2,M,8,4,"div",2),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.datasource)}}let J=(()=>{class a{constructor(t){this.service=t}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-character-relationship"]],inputs:{datasource:"datasource"},decls:1,vars:1,consts:[[4,"ngIf"],["fxLayout","row wrap"],["fxFlex","25%","fxFlex.xs","50%",4,"ngFor","ngForOf"],["fxFlex","25%","fxFlex.xs","50%"],["ngClass","app-card"],["mat-card-image","",3,"src","alt"]],template:function(t,r){1&t&&e.YNc(0,U,3,1,"div",0),2&t&&e.Q6J("ngIf",r.datasource)},directives:[o.O5,l.xw,o.sg,l.yH,s.a8,o.mk,C.oO,s.dk,s.n5,s.$j,s.G2],styles:[""]}),a})();var N=i(5245);function q(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",10)(1,"img",11),e.NdJ("click",function(){const p=e.CHM(t).index;return e.oxw(3).selectImage(p)}),e.qZA()()}if(2&a){const t=n.$implicit,r=e.oxw(3);e.xp6(1),e.s9C("src",r.service.getImageSource(t),e.LSH)}}function D(a,n){if(1&a&&(e.TgZ(0,"div",8),e.YNc(1,q,2,1,"div",9),e.qZA()),2&a){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.datasource)}}function Y(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2),e._UZ(2,"img",3),e.TgZ(3,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().next()}),e.TgZ(4,"mat-icon"),e._uU(5,"navigate_before"),e.qZA()(),e.TgZ(6,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().prev()}),e.TgZ(7,"mat-icon",6),e._uU(8,"navigate_next"),e.qZA()()(),e.YNc(9,D,2,1,"div",7),e.qZA()}if(2&a){const t=e.oxw();e.xp6(2),e.s9C("src",t.service.getImageSource(t.currentValue),e.LSH),e.xp6(7),e.Q6J("ngIf",t.selector)}}let G=(()=>{class a{constructor(t){this.service=t,this.selector=!0}ngOnInit(){this.selectImage(0)}selectImage(t){this.currentIndex=t,this.currentValue=this.datasource[this.currentIndex]}next(){let t=this.currentIndex+1;t>this.datasource.length-1&&(t=0),this.selectImage(t)}prev(){let t=this.currentIndex-1;t<0&&(t=this.datasource.length-1),this.selectImage(t)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-character-gallery"]],inputs:{datasource:"datasource",selector:"selector"},decls:1,vars:1,consts:[["fxLayout","column",4,"ngIf"],["fxLayout","column"],[1,"gallery-current"],[1,"gallery-current-image",3,"src"],["mat-mini-fab","","color","primary",1,"prev",3,"click"],["mat-mini-fab","","color","primary",1,"next",3,"click"],[1,"myIcon"],["fxLayout","row wrap","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center center"],["fxFlex","20%",4,"ngFor","ngForOf"],["fxFlex","20%"],[1,"gallery-selector-image",3,"src","click"]],template:function(t,r){1&t&&e.YNc(0,Y,10,2,"div",0),2&t&&e.Q6J("ngIf",r.datasource)},directives:[o.O5,l.xw,O.lW,N.Hw,l.Wh,o.sg,l.yH],styles:[".gallery-current[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.next[_ngcontent-%COMP%]{margin-right:.5em;position:absolute;align-self:flex-end;top:50%;opacity:.4}.prev[_ngcontent-%COMP%]{margin-left:.5em;position:absolute;align-self:flex-start;top:50%;opacity:.4}.prev[_ngcontent-%COMP%]:hover, .next[_ngcontent-%COMP%]:hover{opacity:1!important}.gallery-current-image[_ngcontent-%COMP%], .gallery-selector-image[_ngcontent-%COMP%]{max-width:100%;max-height:450px;object-fit:scale-down}.gallery-selector-image[_ngcontent-%COMP%]{opacity:.4}.gallery-selector-image[_ngcontent-%COMP%]:hover{opacity:1}"]}),a})();function B(a,n){if(1&a&&(e.TgZ(0,"p",7),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.hij(" ",t," ")}}function k(a,n){if(1&a&&(e.TgZ(0,"p",7),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.hij(" ",t," ")}}function H(a,n){if(1&a&&(e.TgZ(0,"p",7),e._uU(1),e.qZA()),2&a){const t=n.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Q(a,n){if(1&a&&(e.TgZ(0,"mat-tab",8),e._UZ(1,"app-character-relationship",9),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("datasource",t.datasource.relationships)}}function E(a,n){if(1&a&&(e.TgZ(0,"mat-tab",10),e._UZ(1,"app-character-gallery",9),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("datasource",t.datasource.gallery)}}let $=(()=>{class a{constructor(t){this.service=t}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(d))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-character-content"]],inputs:{datasource:"datasource"},decls:12,vars:5,consts:[["mat-align-tabs","center",1,"tab-group"],["label","Introduction"],["class","paragraf-content",4,"ngFor","ngForOf"],["label","History"],["label","Abilities"],["label","Relationships",4,"ngIf"],["label","Gallery",4,"ngIf"],[1,"paragraf-content"],["label","Relationships"],[3,"datasource"],["label","Gallery"]],template:function(t,r){1&t&&(e.TgZ(0,"mat-tab-group",0)(1,"mat-tab",1)(2,"mat-card"),e.YNc(3,B,2,1,"p",2),e.qZA()(),e.TgZ(4,"mat-tab",3)(5,"mat-card"),e.YNc(6,k,2,1,"p",2),e.qZA()(),e.TgZ(7,"mat-tab",4)(8,"mat-card"),e.YNc(9,H,2,1,"p",2),e.qZA()(),e.YNc(10,Q,2,1,"mat-tab",5),e.YNc(11,E,2,1,"mat-tab",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngForOf",r.service.getParagraphs(r.datasource.introduction)),e.xp6(3),e.Q6J("ngForOf",r.service.getParagraphs(r.datasource.history)),e.xp6(3),e.Q6J("ngForOf",r.service.getParagraphs(r.datasource.abilities)),e.xp6(1),e.Q6J("ngIf",r.datasource.relationships),e.xp6(1),e.Q6J("ngIf",r.datasource.gallery))},directives:[S.SP,S.uX,s.a8,o.sg,o.O5,J,G],styles:[".tab-group[_ngcontent-%COMP%]{min-height:600px}"]}),a})();function R(a,n){if(1&a&&(e.TgZ(0,"main",1)(1,"div",2),e._UZ(2,"app-character-presentation",3),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"app-character-content",3),e.qZA()()),2&a){const t=e.oxw();e.xp6(2),e.Q6J("datasource",t.datasource),e.xp6(2),e.Q6J("datasource",t.datasource)}}const j=[{path:"",component:w,pathMatch:"full"},{path:"character",component:(()=>{class a{constructor(t){this.service=t,this.service.getCharacterSelected().subscribe(r=>{this.service.getCharacterDetail(r.id).subscribe(c=>this.datasource=c)})}ngOnInit(){}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(Z))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-character-detail"]],decls:1,vars:1,consts:[["ngClass","app-container","ngClass.lt-md","app-container-lt-md",4,"ngIf"],["ngClass","app-container","ngClass.lt-md","app-container-lt-md"],["ngClass","character-detail-content","ngClass.lt-md","character-detail-content-lt-md"],[3,"datasource"]],template:function(t,r){1&t&&e.YNc(0,R,5,2,"main",0),2&t&&e.Q6J("ngIf",r.datasource)},directives:[o.O5,o.mk,C.oO,P,$],styles:[".character-detail-content[_ngcontent-%COMP%]{margin:0 10em}.character-detail-content-lt-md[_ngcontent-%COMP%]{margin:0 .5em}"]}),a})()}];let X=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[f.Bz.forChild(j)],f.Bz]}),a})();var x=i(6801);let z=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[x._]]}),a})(),K=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[x._]]}),a})(),W=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[x._,X,z,K]]}),a})()}}]);